---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const caseStudies = [
  {
    id: "certegy-migration",
    title: "Enterprise Data Center to Cloud Migration",
    client: "Certegy (Financial Services)",
    industry: "Financial Services",
    duration: "18 months",
    role: "Senior Solution Architect",
    challenge: "A major financial services company needed to migrate their entire data center infrastructure to AWS while maintaining strict compliance requirements and zero downtime for critical payment processing systems.",
    solution: [
      "Designed hybrid cloud architecture with secure connectivity between on-premises and AWS",
      "Implemented phased migration strategy for 200+ applications across diverse technology stacks",
      "Built automated infrastructure provisioning with Terraform and CloudFormation",
      "Created comprehensive disaster recovery and failover procedures"
    ],
    outcomes: [
      { metric: "40%", description: "Reduction in infrastructure costs" },
      { metric: "99.99%", description: "Uptime achieved post-migration" },
      { metric: "200+", description: "Applications migrated successfully" },
      { metric: "0", description: "Unplanned downtime during migration" }
    ],
    technologies: ["AWS", "Terraform", "Java", "C", "Networking", "Oracle"],
    image: "/images/case-studies/cloud-migration.svg"
  },
  {
    id: "devops-transformation",
    title: "DevOps Platform Transformation",
    client: "Home Loan Experts",
    industry: "FinTech",
    duration: "3 years",
    role: "DevOps Engineer",
    challenge: "A fast-growing mortgage technology company struggled with slow deployments, manual processes, and limited visibility into their serverless infrastructure across multiple environments.",
    solution: [
      "Built custom CI/CD pipelines for AWS SAM and Serverless Framework deployments",
      "Implemented Infrastructure as Code with Terraform and Terragrunt for multi-environment management",
      "Centralized monitoring and alerting using DataDog for serverless workloads",
      "Established GitOps practices and automated security scanning in pipelines"
    ],
    outcomes: [
      { metric: "10x", description: "Faster deployment frequency" },
      { metric: "80%", description: "Reduction in deployment failures" },
      { metric: "60%", description: "Decrease in incident response time" },
      { metric: "30%", description: "Cost savings through optimization" }
    ],
    technologies: ["AWS", "Serverless", "Terraform", "DataDog", "GitHub Actions", "Python"],
    image: "/images/case-studies/devops-platform.svg"
  },
  {
    id: "ai-automation",
    title: "AI-Powered Document Processing",
    client: "Enterprise Client",
    industry: "Professional Services",
    duration: "6 months",
    role: "AI Solutions Architect",
    challenge: "Manual document processing was consuming significant staff time, with high error rates and inconsistent results across a large volume of varied document types.",
    solution: [
      "Designed RAG pipeline for intelligent document understanding and extraction",
      "Implemented agentic workflow for automated document classification and routing",
      "Built custom fine-tuned models for domain-specific entity extraction",
      "Created human-in-the-loop validation system for quality assurance"
    ],
    outcomes: [
      { metric: "85%", description: "Reduction in manual processing time" },
      { metric: "95%", description: "Accuracy in document classification" },
      { metric: "24hrs→2hrs", description: "Processing time per batch" },
      { metric: "3x", description: "Throughput increase" }
    ],
    technologies: ["Python", "LangChain", "OpenAI", "AWS", "PostgreSQL", "FastAPI"],
    image: "/images/case-studies/ai-automation.svg"
  }
];
---

<BaseLayout title="Case Studies | Ashok Pokharel - Fractional CTO">
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="cases-hero">
      <div class="container">
        <h1 class="page-title">Case Studies</h1>
        <p class="page-subtitle">
          Real projects, measurable outcomes. Here's how I've helped organizations
          transform their technology and achieve business goals.
        </p>
      </div>
    </section>

    <!-- Case Studies List -->
    <section class="cases-section">
      <div class="container">
        {caseStudies.map((study, index) => (
          <article id={study.id} class="case-study" style={`--delay: ${index * 0.1}s`}>
            <div class="case-header">
              <div class="case-meta">
                <span class="case-industry">{study.industry}</span>
                <span class="case-duration">{study.duration}</span>
              </div>
              <h2>{study.title}</h2>
              <p class="case-role">Role: {study.role}</p>
            </div>

            <div class="case-content">
              <div class="case-challenge">
                <h3>The Challenge</h3>
                <p>{study.challenge}</p>
              </div>

              <div class="case-solution">
                <h3>The Solution</h3>
                <ul>
                  {study.solution.map((item) => (
                    <li>{item}</li>
                  ))}
                </ul>
              </div>

              <div class="case-outcomes">
                <h3>Key Outcomes</h3>
                <div class="outcomes-grid">
                  {study.outcomes.map((outcome) => (
                    <div class="outcome-item">
                      <span class="outcome-metric">{outcome.metric}</span>
                      <span class="outcome-desc">{outcome.description}</span>
                    </div>
                  ))}
                </div>
              </div>

              <div class="case-technologies">
                <h3>Technologies Used</h3>
                <div class="tech-tags">
                  {study.technologies.map((tech) => (
                    <span class="tech-tag">{tech}</span>
                  ))}
                </div>
              </div>
            </div>
          </article>
        ))}
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="container">
        <h2>Ready to Create Your Success Story?</h2>
        <p>Let's discuss how I can help your organization achieve similar results.</p>
        <div class="cta-buttons">
          <a href="/contact" class="btn btn-primary">
            Start a Conversation
          </a>
          <a href="/solutions" class="btn btn-outline">
            Explore Solutions
          </a>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>

<style>
  .cases-hero {
    padding: calc(4rem + 64px) 0 var(--space-2xl);
    background: var(--bg-secondary);
    text-align: center;
  }

  .page-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: var(--space-md);
    background: linear-gradient(135deg, var(--text-primary), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .page-subtitle {
    font-size: 1.25rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.7;
  }

  .cases-section {
    padding: var(--space-2xl) 0;
  }

  .case-study {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-2xl);
    margin-bottom: var(--space-2xl);
    animation: fadeIn 0.5s ease forwards;
    animation-delay: var(--delay);
    opacity: 0;
  }

  .case-header {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border);
  }

  .case-meta {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
  }

  .case-industry,
  .case-duration {
    font-size: 0.8rem;
    font-weight: 500;
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
  }

  .case-industry {
    background: var(--accent);
    color: white;
  }

  .case-duration {
    background: var(--bg-tertiary);
    color: var(--text-secondary);
  }

  .case-header h2 {
    font-size: 1.75rem;
    font-weight: 700;
    margin-bottom: var(--space-sm);
  }

  .case-role {
    font-size: 1rem;
    color: var(--text-secondary);
    font-style: italic;
  }

  .case-content {
    display: grid;
    gap: var(--space-xl);
  }

  .case-challenge h3,
  .case-solution h3,
  .case-outcomes h3,
  .case-technologies h3 {
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    margin-bottom: var(--space-md);
  }

  .case-challenge p {
    font-size: 1.05rem;
    color: var(--text-secondary);
    line-height: 1.7;
  }

  .case-solution ul {
    list-style: none;
  }

  .case-solution li {
    position: relative;
    padding-left: 1.5rem;
    padding-bottom: var(--space-sm);
    font-size: 0.95rem;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  .case-solution li::before {
    content: '→';
    position: absolute;
    left: 0;
    color: var(--accent);
    font-weight: bold;
  }

  .outcomes-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-md);
  }

  .outcome-item {
    background: var(--bg-tertiary);
    padding: var(--space-lg);
    border-radius: var(--radius-md);
    text-align: center;
  }

  .outcome-metric {
    display: block;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: var(--space-xs);
  }

  .outcome-desc {
    font-size: 0.85rem;
    color: var(--text-secondary);
    line-height: 1.4;
  }

  .tech-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .tech-tag {
    font-size: 0.85rem;
    font-weight: 500;
    padding: var(--space-xs) var(--space-md);
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    transition: all var(--transition-fast);
  }

  .case-study:hover .tech-tag {
    background: var(--accent);
    color: white;
    border-color: var(--accent);
  }

  /* CTA Section */
  .cta-section {
    padding: var(--space-3xl) 0;
    background: var(--bg-secondary);
    text-align: center;
  }

  .cta-section h2 {
    font-size: 2rem;
    margin-bottom: var(--space-md);
  }

  .cta-section p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: var(--space-xl);
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 900px) {
    .outcomes-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 600px) {
    .page-title {
      font-size: 2rem;
    }

    .case-study {
      padding: var(--space-lg);
    }

    .outcomes-grid {
      grid-template-columns: 1fr;
    }

    .cta-buttons {
      flex-direction: column;
    }
  }
</style>
